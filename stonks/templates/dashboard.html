{% extends 'base.html' %}


{% block content %}
<div id="table">
<table>
    <thead>
    <tr>
        {% for col in columns: %}
            <th> {{col}} </th>
        {% endfor %}
    </tr>
    </thead>
    <tbody>
        {% for quote in quotes: %}
                <tr class="table_body" id="{{quote['symbol']}}">
                    {% for col in columns: %}
                    <td>{{ quote[col] }}</td>
                    {% endfor %}
                </tr>
        {% endfor %}
    </tbody>
</table>
</div>
<div id="chart">
    <div id="graph">
        <script src="https://d3js.org/d3.v5.min.js"></script>
        <script src="{{url_for('static', filename='graph.js')}}"></script>
    </div>
    <div id="menu">
            <label for="comp">Select a company & time frame.
                <select id="comp">
                    {% for quote in quotes: %}
                        <option class="comp" value="{{quote['symbol']}}">{{quote['shortName']}}</option>
                    {% endfor %}
                </select>
            </label>
            <label for="time_frame">
                <select id="time_frame">
                    <option class="time_frame" value="7">1 week</option>
                    <option class="time_frame" value="21">3 weeks</option>
                    <option class="time_frame" value="30">30 days</option>
                    <option class="time_frame" value="90">90 days</option>
                    <option class="time_frame" value="365">1 year</option>
                </select>
            </label>
            <button onclick="get_data()">send request</button>
    </div>
</div>
{% endblock %}